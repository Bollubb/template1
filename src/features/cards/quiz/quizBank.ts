export type QuizCategory = "antibiotici" | "farmaci" | "procedure" | "emergenza";
export type QuizDifficulty = "easy" | "medium" | "hard";

export type QuizQuestion = {
  id: string;
  q: string;
  options: string[];
  answer: number; // index in options
  category: QuizCategory;
  difficulty: QuizDifficulty;
  explain: string;
};

/**
 * QUIZ BANK (v2)
 *
 * Obiettivo: domande brevi, chiare, con opzioni realistiche.
 * Nota: è un dataset didattico offline — non sostituisce protocolli locali.
 *
 * In questa release partiamo con ~50 domande “buone” (standard alto).
 * Possiamo aggiungerne a blocchi (50 alla volta) mantenendo qualità.
 */
export const QUIZ_BANK: QuizQuestion[] = [
  // ───────────────────────── PROCEDURE ─────────────────────────
  {
    id: "q0001",
    q: "Dopo aver rimosso i guanti, qual è l'azione corretta?",
    options: [
      "Eseguire igiene delle mani",
      "Indossare subito nuovi guanti",
      "Toccare il telefono per aggiornare la scheda",
      "Lavare i guanti con soluzione idroalcolica",
    ],
    answer: 0,
    category: "procedure",
    difficulty: "easy",
    explain: "I guanti non sostituiscono l'igiene delle mani: va eseguita dopo la rimozione.",
  },
  {
    id: "q0002",
    q: "Durante la trasfusione, quale controllo è essenziale PRIMA di iniziare?",
    options: ["Compatibilità/identificazione paziente", "Solo la glicemia", "Solo la temperatura", "Solo la diuresi"],
    answer: 0,
    category: "procedure",
    difficulty: "easy",
    explain: "Gli errori di identificazione e compatibilità sono tra i rischi più gravi.",
  },
  {
    id: "q0003",
    q: "Sospetta reazione trasfusionale (brividi, dispnea, febbre): cosa fai per primo?",
    options: [
      "Interrompi la trasfusione e mantieni accesso con fisiologica",
      "Aumenti la velocità per terminare prima",
      "Rimuovi il catetere venoso",
      "Aspetti 10 minuti e rivaluti",
    ],
    answer: 0,
    category: "procedure",
    difficulty: "medium",
    explain: "Si interrompe subito e si mantiene la via con soluzione compatibile; poi avvisi e gestisci secondo reparto.",
  },
  {
    id: "q0004",
    q: "Per ridurre contaminazione nelle emocolture, quale comportamento è corretto?",
    options: [
      "Antisepsi accurata e non ripalpare dopo disinfezione",
      "Aprire i flaconi e lasciarli esposti",
      "Saltare la disinfezione se la cute è pulita",
      "Prelevare sempre da CVC per comodità",
    ],
    answer: 0,
    category: "procedure",
    difficulty: "medium",
    explain: "La principale fonte di contaminazione è la cute: disinfezione efficace e niente ripalpazione dopo.",
  },
  {
    id: "q0005",
    q: "Infiltrazione di un accesso venoso periferico durante infusione: cosa fai?",
    options: [
      "Interrompi l'infusione e valuti il sito",
      "Aumenti la velocità per finire",
      "Bendi stretto e continui",
      "Ignori se non riferisce dolore",
    ],
    answer: 0,
    category: "procedure",
    difficulty: "easy",
    explain: "Interrompere evita peggioramento e possibili danni tissutali.",
  },
  {
    id: "q0006",
    q: "Ossigenoterapia: qual è l'obiettivo più corretto?",
    options: [
      "Ottenere saturazione target adeguata al paziente",
      "Portare sempre SpO₂ al 100%",
      "Somministrare O₂ a tutti i dispnoici senza valutazione",
      "Evitare sempre l'O₂ nei pazienti con BPCO",
    ],
    answer: 0,
    category: "procedure",
    difficulty: "easy",
    explain: "Si mira a un target (es. in base a patologia) evitando iperossia non necessaria.",
  },
  {
    id: "q0007",
    q: "Per una tracheostomia, quale segno è più preoccupante e richiede valutazione rapida?",
    options: [
      "Rumori respiratori ridotti e difficoltà ventilatoria",
      "Leggera tosse occasionale",
      "Secrezioni chiare sporadiche",
      "Dolore lieve controllato con analgesico",
    ],
    answer: 0,
    category: "procedure",
    difficulty: "medium",
    explain: "Difficoltà ventilatoria/ostruzione è un campanello d'allarme.",
  },
  {
    id: "q0008",
    q: "In medicazione di un CVC, cosa riduce maggiormente il rischio di infezione?",
    options: [
      "Asepsi rigorosa + antisepsi cutanea corretta",
      "Cambiare garza più spesso senza tecnica",
      "Usare guanti non sterili sempre e comunque",
      "Applicare più cerotti per fissare meglio",
    ],
    answer: 0,
    category: "procedure",
    difficulty: "medium",
    explain: "La tecnica (asepsi/antisepsi) è più determinante della sola frequenza di cambio.",
  },
  {
    id: "q0009",
    q: "Prelievo ematico: perché l'ordine delle provette può essere importante?",
    options: [
      "Per ridurre contaminazione/trasferimento di additivi",
      "Perché cambia il volume di sangue richiesto",
      "Per aumentare la velocità di coagulazione",
      "Non è mai importante",
    ],
    answer: 0,
    category: "procedure",
    difficulty: "medium",
    explain: "Gli additivi possono contaminare la provetta successiva e alterare i risultati.",
  },
  {
    id: "q0010",
    q: "Lesione da pressione: quale intervento è più utile in prevenzione?",
    options: [
      "Riposizionamento + gestione pressione/attrito",
      "Massaggiare energicamente le prominenze ossee",
      "Lasciare il paziente in posizione comoda per ore",
      "Evitare qualsiasi mobilizzazione",
    ],
    answer: 0,
    category: "procedure",
    difficulty: "easy",
    explain: "Prevenzione = ridurre pressione prolungata e shear, con mobilizzazione e supporti.",
  },

  // ───────────────────────── FARMACI ─────────────────────────
  {
    id: "q0011",
    q: "Quale via è generalmente più rapida per effetto sistemico in emergenza?",
    options: ["EV", "IM", "SC", "OS"],
    answer: 0,
    category: "farmaci",
    difficulty: "easy",
    explain: "La via endovenosa ha insorgenza più rapida rispetto a IM/SC/OS.",
  },
  {
    id: "q0012",
    q: "Un errore comune con i farmaci ad alto rischio (es. insulina, eparina) è:",
    options: [
      "Non fare doppio controllo quando previsto",
      "Leggere l'etichetta due volte",
      "Documentare somministrazione",
      "Usare unità di misura chiare",
    ],
    answer: 0,
    category: "farmaci",
    difficulty: "easy",
    explain: "Per farmaci ad alto rischio spesso è previsto doppio controllo e procedure di sicurezza.",
  },
  {
    id: "q0013",
    q: "Che cosa significa 'farmaco tritabile' in modo sicuro?",
    options: [
      "Può essere frantumato senza alterare rilascio/efficacia",
      "È sempre gastroprotetto",
      "È sempre a rilascio prolungato",
      "Va sempre sciolto in latte",
    ],
    answer: 0,
    category: "farmaci",
    difficulty: "medium",
    explain: "Non tutti i farmaci sono tritabili: gastroresistenti e rilascio modificato spesso NON lo sono.",
  },
  {
    id: "q0014",
    q: "Durante terapia con oppiacei, quale rischio richiede monitoraggio prioritario?",
    options: ["Depressione respiratoria", "Ipertensione", "Iperglicemia", "Fotosensibilità"],
    answer: 0,
    category: "farmaci",
    difficulty: "medium",
    explain: "L'effetto più pericoloso è la depressione respiratoria, soprattutto in titolazione o associazioni sedative.",
  },
  {
    id: "q0015",
    q: "Statine: quale consiglio di base è più corretto?",
    options: [
      "Segnalare dolore muscolare importante o urine scure",
      "Sospendere autonomamente al primo indolenzimento",
      "Assumere sempre insieme al succo di pompelmo",
      "Evitare qualsiasi attività fisica",
    ],
    answer: 0,
    category: "farmaci",
    difficulty: "medium",
    explain: "Mialgie importanti/urine scure possono indicare complicanze: vanno riferite.",
  },
  {
    id: "q0016",
    q: "Chemioterapici: quale principio è più corretto in reparto?",
    options: [
      "Gestione con DPI e procedure dedicate",
      "Manipolazione libera se in fiala chiusa",
      "Smaltimento nel normale indifferenziato",
      "Nessuna precauzione per contatto cutaneo",
    ],
    answer: 0,
    category: "farmaci",
    difficulty: "medium",
    explain: "Sono farmaci pericolosi: servono DPI e procedure di sicurezza.",
  },
  {
    id: "q0017",
    q: "Antiemetici: quando è sensato rivalutare efficacia dopo somministrazione?",
    options: ["Dopo un tempo coerente con la via usata e la clinica", "Dopo 10 secondi", "Solo il giorno dopo", "Mai, basta somministrare"],
    answer: 0,
    category: "farmaci",
    difficulty: "easy",
    explain: "La rivalutazione dipende da via (EV/OS) e quadro clinico.",
  },

  // ───────────────────────── ANTIBIOTICI ─────────────────────────
  {
    id: "q0018",
    q: "Penicilline: quale reazione richiede attenzione immediata?",
    options: ["Segni di anafilassi (dispnea, orticaria diffusa, ipotensione)", "Lieve nausea", "Sete", "Singhiozzo"],
    answer: 0,
    category: "antibiotici",
    difficulty: "easy",
    explain: "Segni di reazione allergica grave richiedono gestione urgente.",
  },
  {
    id: "q0019",
    q: "Cefalosporine: cosa è importante verificare prima della somministrazione?",
    options: ["Allergie note e reazioni pregresse", "Solo il gruppo sanguigno", "Solo la pressione", "Solo la glicemia"],
    answer: 0,
    category: "antibiotici",
    difficulty: "easy",
    explain: "Valutare allergie/reazioni pregresse è essenziale per ridurre rischio di reazioni.",
  },
  {
    id: "q0020",
    q: "Macrolidi: quale effetto avverso è ragionevole tenere presente?",
    options: ["Disturbi gastrointestinali", "Cecità improvvisa sempre", "Ipertermia maligna", "Arresto cardiaco certo"],
    answer: 0,
    category: "antibiotici",
    difficulty: "easy",
    explain: "Molti macrolidi possono dare nausea/diarrea; la tollerabilità GI è un punto frequente.",
  },
  {
    id: "q0021",
    q: "Fluorochinoloni: perché serve prudenza in alcuni pazienti?",
    options: [
      "Possibili effetti su tendini/neurologici in predisposti",
      "Perché sono sempre inefficaci",
      "Perché non attraversano mai i tessuti",
      "Perché non interagiscono con nulla",
    ],
    answer: 0,
    category: "antibiotici",
    difficulty: "medium",
    explain: "In alcuni soggetti possono aumentare rischio di tendinopatia e altri effetti: valutazione clinica e indicazione.",
  },
  {
    id: "q0022",
    q: "Aminoglicosidi: quale monitoraggio è spesso rilevante?",
    options: ["Funzione renale", "Solo saturazione", "Solo glicemia", "Solo vista"],
    answer: 0,
    category: "antibiotici",
    difficulty: "medium",
    explain: "Rischio nefrotossicità (e ototossicità): funzione renale è un monitoraggio chiave.",
  },
  {
    id: "q0023",
    q: "Glicopeptidi (es. vancomicina): cosa è importante se infusa troppo rapidamente?",
    options: ["Reazioni da infusione (rossore/prurito)", "Iperglicemia immediata", "Alcalosi respiratoria", "Aumento della diuresi"],
    answer: 0,
    category: "antibiotici",
    difficulty: "medium",
    explain: "L'infusione troppo rapida può aumentare reazioni da infusione: rispettare tempi.",
  },

  // ───────────────────────── EMERGENZA ─────────────────────────
  {
    id: "q0024",
    q: "In arresto cardiaco, qual è la priorità iniziale?",
    options: ["Iniziare RCP e allertare emergenza", "Cercare una vena difficile", "Misurare la temperatura", "Attendere il medico"],
    answer: 0,
    category: "emergenza",
    difficulty: "easy",
    explain: "Attivazione soccorsi e compressioni precoci sono fondamentali.",
  },
  {
    id: "q0025",
    q: "Paziente con segni di shock (ipotensione, cute fredda, confusione): cosa fai subito?",
    options: [
      "Valuti ABC, posizioni, allerti e monitorizzi parametri",
      "Somministri acqua per bocca",
      "Lo fai camminare per riattivare circolo",
      "Rimandi ogni valutazione a fine turno",
    ],
    answer: 0,
    category: "emergenza",
    difficulty: "easy",
    explain: "Serve valutazione rapida e gestione ABC con allerta.",
  },
  {
    id: "q0026",
    q: "Iperpiressia: quale complicanza va prevenuta/monitorata?",
    options: ["Disidratazione e alterazioni stato mentale", "Sempre ipoglicemia", "Sempre embolia", "Sempre pancreatite"],
    answer: 0,
    category: "emergenza",
    difficulty: "medium",
    explain: "Febbre alta può portare disidratazione e alterazioni neurologiche; servono monitoraggio e supporto.",
  },
  {
    id: "q0027",
    q: "Accesso intraosseo: quando è utile considerarlo?",
    options: [
      "Quando accesso venoso è difficile e serve urgenza",
      "Solo per terapia a lungo termine",
      "Solo nei pazienti stabili",
      "Mai, è obsoleto",
    ],
    answer: 0,
    category: "emergenza",
    difficulty: "medium",
    explain: "In emergenza, se EV difficile, IO può essere una via rapida per farmaci/fluidi secondo competenze.",
  },

  // ───────────────────────── MIX (qualità) ─────────────────────────
  {
    id: "q0028",
    q: "Emogas: quale campione è più utile per valutare ossigenazione?",
    options: ["Arterioso", "Venoso", "Capillare sempre", "Urina"],
    answer: 0,
    category: "procedure",
    difficulty: "easy",
    explain: "L'ossigenazione (PaO₂) si valuta in modo affidabile su campione arterioso.",
  },
  {
    id: "q0029",
    q: "Se un paziente è dispnoico, ossigeno 'sempre e comunque' è corretto?",
    options: ["No: prima valutazione e target (se indicato)", "Sì, sempre", "Solo se giovane", "Solo se anziano"],
    answer: 0,
    category: "procedure",
    difficulty: "medium",
    explain: "Dispnea ≠ sempre ipossia; si valuta saturazione/clinica e si imposta target adeguato.",
  },
  {
    id: "q0030",
    q: "MRSA: qual è una misura di base per ridurre trasmissione?",
    options: ["Igiene mani + precauzioni da contatto se indicate", "Solo mascherina chirurgica", "Solo cambiare lenzuola", "Nessuna misura"],
    answer: 0,
    category: "procedure",
    difficulty: "easy",
    explain: "Igiene mani e precauzioni appropriate riducono diffusione.",
  },

  // ───────────────────────── Aggiunte fino a 50 ─────────────────────────
  {
    id: "q0031",
    q: "Deflussore 20 gtt/mL: se aumenti il volume a parità di tempo, le gocce/min...",
    options: ["Aumentano", "Diminuiscono", "Restano uguali", "Diventano sempre 60"],
    answer: 0,
    category: "procedure",
    difficulty: "easy",
    explain: "Più volume nello stesso tempo = velocità maggiore = più gocce/min.",
  },
  {
    id: "q0032",
    q: "MAP (pressione arteriosa media): un calcolo rapido usa spesso:",
    options: ["(PAS + 2×PAD) / 3", "PAS + PAD", "PAD − PAS", "(PAS − PAD) / 2"],
    answer: 0,
    category: "procedure",
    difficulty: "easy",
    explain: "Formula pratica: (sistolica + 2×diastolica)/3.",
  },
  {
    id: "q0033",
    q: "Diuresi in ml/kg/h: quale dato è indispensabile oltre ai ml urinati?",
    options: ["Peso del paziente", "Colesterolo", "Età", "Gruppo sanguigno"],
    answer: 0,
    category: "procedure",
    difficulty: "easy",
    explain: "La formula richiede il peso per normalizzare la diuresi.",
  },
  {
    id: "q0034",
    q: "Somministrazione EV: prima di iniettare in un accesso, cosa è sensato verificare?",
    options: ["Pervietà e segni di infiltrazione", "Solo la temperatura", "Solo la saturazione", "Solo il colore della medicazione"],
    answer: 0,
    category: "procedure",
    difficulty: "medium",
    explain: "Verifica pervietà e assenza di dolore/edema riduce rischio di somministrazione in sede non corretta.",
  },
  {
    id: "q0035",
    q: "Allergia riferita 'non ricordo a cosa': in sicurezza, prima di un antibiotico cosa fai?",
    options: ["Raccogli dettagli e segnali/valuti alternativa", "Somministri lo stesso", "Dai doppia dose", "Ignori e documenti dopo"],
    answer: 0,
    category: "antibiotici",
    difficulty: "medium",
    explain: "Anamnesi allergologica e segnalazione sono essenziali.",
  },
  {
    id: "q0036",
    q: "Quando un paziente è molto sedato, quale scala/parametro è utile monitorare?",
    options: ["Stato di coscienza e respiro (es. RASS/FR)", "Solo temperatura", "Solo BMI", "Solo colore occhi"],
    answer: 0,
    category: "farmaci",
    difficulty: "medium",
    explain: "Sedativi/oppiacei richiedono monitoraggio neurologico e respiratorio.",
  },
  {
    id: "q0037",
    q: "Per ridurre errori di somministrazione, quale pratica è più efficace?",
    options: ["5/7 G della terapia (paziente, farmaco, dose, via, ora, ecc.)", "Scrivere a memoria", "Preparare tutto insieme per risparmiare tempo", "Non etichettare le siringhe"],
    answer: 0,
    category: "farmaci",
    difficulty: "easy",
    explain: "Le 'G' (giusti) aiutano a prevenire errori sistematici.",
  },
  {
    id: "q0038",
    q: "Quando è più indicato rivalutare un dolore dopo analgesico EV?",
    options: ["Dopo un intervallo breve coerente con l'EV (minuti)", "Solo dopo 6 ore", "Mai", "Dopo 24 ore"],
    answer: 0,
    category: "farmaci",
    difficulty: "easy",
    explain: "L'EV ha onset rapido: la rivalutazione deve essere tempestiva.",
  },
  {
    id: "q0039",
    q: "Paziente con saturazione bassa e segni di fatica: quale azione ha senso?",
    options: ["Allerti e inizi supporto secondo protocolli/target", "Aspetti che migliori", "Lo fai sdraiare supino sempre", "Gli fai bere acqua"],
    answer: 0,
    category: "emergenza",
    difficulty: "medium",
    explain: "Serve valutazione rapida e gestione respiratoria tempestiva.",
  },
  {
    id: "q0040",
    q: "In caso di caduta in reparto, cosa è prioritario fare subito?",
    options: ["Valutazione paziente (ABC, trauma) + segnalazione", "Compilare solo a fine turno", "Rimettere a letto senza controlli", "Chiedere al paziente di alzarsi"],
    answer: 0,
    category: "emergenza",
    difficulty: "easy",
    explain: "Prima sicurezza clinica, poi documentazione.",
  },
  {
    id: "q0041",
    q: "Nella gestione delle vie aeree, quale segno suggerisce ostruzione parziale?",
    options: ["Stridore", "Eupnea silenziosa", "Cute rosa e tranquilla", "Sonno normale"],
    answer: 0,
    category: "emergenza",
    difficulty: "medium",
    explain: "Stridore è un segno d'allarme per ostruzione.",
  },
  {
    id: "q0042",
    q: "In caso di ipoglicemia sintomatica, cosa NON è appropriato?",
    options: ["Somministrare zuccheri e rivalutare", "Lasciare il paziente da solo", "Misurare glicemia", "Allertare se non risponde"],
    answer: 1,
    category: "emergenza",
    difficulty: "easy",
    explain: "Il paziente va monitorato: rischio peggioramento/alterazione coscienza.",
  },
  {
    id: "q0043",
    q: "Infusione EV: quale è un rischio se la velocità è troppo alta?",
    options: ["Sovraccarico o reazioni avverse", "Sempre ipoglicemia", "Sempre ipotermia", "Nessun rischio"],
    answer: 0,
    category: "procedure",
    difficulty: "easy",
    explain: "Velocità eccessiva può causare sovraccarico o eventi avversi, a seconda di farmaco/fluido.",
  },
  {
    id: "q0044",
    q: "BMI: quale informazione ti serve?",
    options: ["Altezza e peso", "Solo altezza", "Solo peso", "Pressione arteriosa"],
    answer: 0,
    category: "procedure",
    difficulty: "easy",
    explain: "BMI = peso(kg) / altezza(m)^2.",
  },
  {
    id: "q0045",
    q: "Antibiotico EV: perché è importante rispettare tempi di infusione?",
    options: [
      "Riduce reazioni e garantisce somministrazione corretta",
      "Serve solo a far durare di più la flebo",
      "Non cambia nulla",
      "È importante solo nei farmaci orali",
    ],
    answer: 0,
    category: "antibiotici",
    difficulty: "easy",
    explain: "Alcuni antibiotici hanno reazioni dose/velocità-dipendenti: tempi corretti migliorano tollerabilità.",
  },
  {
    id: "q0046",
    q: "Paziente con febbre e brividi dopo antibiotico EV: cosa è prudente valutare subito?",
    options: ["Reazione avversa/allergica e parametri vitali", "Solo appetito", "Solo colore urine", "Solo peso"],
    answer: 0,
    category: "antibiotici",
    difficulty: "medium",
    explain: "Serve valutazione clinica e parametri; se sospetta reazione, interrompi e allerti secondo indicazioni.",
  },
  {
    id: "q0047",
    q: "Per un farmaco a rilascio prolungato (XR/retard), in genere è corretto:",
    options: ["Non triturarlo senza verifica", "Triturarlo sempre", "Scioglierlo in acqua calda", "Dividere la capsula e mischiare"],
    answer: 0,
    category: "farmaci",
    difficulty: "medium",
    explain: "Triturare può alterare rilascio e aumentare effetti avversi.",
  },
  {
    id: "q0048",
    q: "Quando un paziente è confuso e aggressivo, la priorità iniziale è:",
    options: ["Sicurezza (ambiente, rischio) + valutazione cause", "Punirlo", "Ignorarlo", "Lasciarlo senza sorveglianza"],
    answer: 0,
    category: "emergenza",
    difficulty: "medium",
    explain: "Prima sicurezza, poi valutazione di cause (ipossia, ipoglicemia, dolore, delirium...).",
  },
  {
    id: "q0049",
    q: "Checklist mentale rapida in emergenza: quale sequenza è più utile?",
    options: ["ABC", "CBA", "Solo pressione", "Solo ECG"],
    answer: 0,
    category: "emergenza",
    difficulty: "easy",
    explain: "ABC aiuta a non perdere le priorità vitali.",
  },
  {
    id: "q0050",
    q: "In caso di dubbio su un farmaco (diluizione/compatibilità), cosa è più sicuro?",
    options: ["Consultare fonte affidabile/medico/farmacista prima di somministrare", "Procedere a intuito", "Dimezzare dose senza dire nulla", "Somministrare e vedere"],
    answer: 0,
    category: "farmaci",
    difficulty: "easy",
    explain: "La sicurezza viene prima: verifica su fonti attendibili e chiedi supporto.",
  },
];
